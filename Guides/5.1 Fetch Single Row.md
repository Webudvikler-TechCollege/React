# Fech data

Følgende er en guide til at hente data og vise dem. For at gøre dette med hooks, skal vi bruge useEffect og vi skal også bruge useState til at gemme data med.

Eksemplet bruger værktøjet *axios* til at fetche data med. Dette kan installeres med npm:
```
npm install axios
```
Følgende kode beskriver  en komponent, der henter de 17 verdensmål som et array og udskriver dem i en map:

```js
import { useEffect, useState } from "react"
import { Link } from "react-router-dom"
import axios from 'axios'

export const GoalList = () => {
  // Kalder state variabel med useState() 
  const [goals, setGoals] = useState([])

  // Kalder useEffect
  useEffect(() => {
    // Sætter asynkron funktion til fetch
    const getData = async () => {
      const url = "https://api.mediehuset.net/sdg/goals"
      try {
        // Fetch kalde med axios
        const result = await axios.get(url)
        // Sætter state var til api response
        setGoals(result.data.items)
      }
      catch (err) {
        console.error(err)
      }
    }
    // Kalder function
    getData()
  }, [setGoals]) //<< Sender state setter med som dependency

  return (
    <>
      {goals && goals.map(goal => {
        return (
          <p key={goal.id}>{goal.title}</p>
        )
      })}
    </>
  )
}
```